package com.rest.service.controller;

import java.io.File;
import java.util.Enumeration;
import java.util.zip.ZipEntry;
import java.util.zip.ZipFile;

public class Test2 {

	public static void main(String[] args) {
		Test2 obj = new Test2();
		obj.extractFolder("S:\\Downloads\\superzip.zip");
	}

	public void extractFolder(String source) {
		String destination = source.substring(0, source.length() - 4);
		try {
			System.out.println("Extracting : " + source + " -> " + destination);
			new net.lingala.zip4j.core.ZipFile(source).extractAll(destination);

			ZipFile zip = new ZipFile(source);
			Enumeration zipFileEntries = zip.entries();
			while (zipFileEntries.hasMoreElements()) {
				ZipEntry entry = (ZipEntry) zipFileEntries.nextElement();
				String currentEntry = entry.getName();
				System.out.println(currentEntry);
				File destFile = new File(destination, currentEntry);
				if (currentEntry.endsWith(".zip")) {
					extractFolder(destFile.getAbsolutePath());
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
